<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <link>/es/</link>
    <description>Recent content on </description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator>
    <language>es-cr</language>
    <copyright>&amp;copy; 2019</copyright>
    <lastBuildDate>Tue, 28 Jan 2020 17:00:00 +0000</lastBuildDate>
    
	    <atom:link href="/es/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Programación estadística en R</title>
      <link>/es/talk/cursor202001/</link>
      <pubDate>Tue, 28 Jan 2020 17:00:00 +0000</pubDate>
      
      <guid>/es/talk/cursor202001/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Familia de funciones apply - Parte 3</title>
      <link>/es/post/2019-12-08-lapply_sapply_vapply/</link>
      <pubDate>Mon, 09 Dec 2019 18:55:57 -0600</pubDate>
      
      <guid>/es/post/2019-12-08-lapply_sapply_vapply/</guid>
      <description>


&lt;p&gt;En este nuevo post sobre la familia de funciones apply, es momento de mostrar algunos ejemplos de uso sobre tres nuevas funciones: &lt;code&gt;lapply()&lt;/code&gt;, &lt;code&gt;sapply()&lt;/code&gt; y &lt;code&gt;vapply()&lt;/code&gt;. Las tres funciones están pensadas para trabajar con objetos de clase &lt;code&gt;list&lt;/code&gt;, sin embargo, otras variantes pueden trabajarse con vectores.&lt;/p&gt;
&lt;p&gt;Supongamos que tenemos varias bases de datos sobre las cuales necesitamos obtener la suma de las columnas. Vamos primero a generar una sencilla función que nos devuelva una base de datos de números aleatorios del intervalo &lt;span class=&#34;math inline&#34;&gt;\([1,100]\)&lt;/span&gt; y que además contenga valores faltantes, con un determinado número de filas y columnas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;datos &amp;lt;- function(filas, columnas){
    valores &amp;lt;- sample(x = c(NA,1:100), 
        size = filas*columnas,
        replace = TRUE)
    as.data.frame(matrix(data = valores,
                         nrow = filas, 
                         ncol = columnas))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Así, por ejemplo, podemos generar una base de datos con 50 filas y 5 columnas ejecutando el siguiente comando:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(20191208)
df1 &amp;lt;- datos(50, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Generemos otras dos bases de datos de dimensiones &lt;span class=&#34;math inline&#34;&gt;\(100\times5\)&lt;/span&gt; y &lt;span class=&#34;math inline&#34;&gt;\(150\times5\)&lt;/span&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(20191208)
df2 &amp;lt;- datos(100, 5)
df3 &amp;lt;- datos(150, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Como vimos en &lt;a href=&#34;https://www.cesargamboasanabria.com/es/post/2019-06-23-apply/&#34;&gt;este post&lt;/a&gt;, podríamos utilizar la función &lt;code&gt;apply()&lt;/code&gt; para obtener la suma de las columnas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;apply(df1,2,sum)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   V1   V2   V3   V4   V5 
## 2546 2602 2699 1993 2482&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;apply(df2,2,sum)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   V1   V2   V3   V4   V5 
## 5148 4692   NA 5024 5177&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;apply(df3,2,sum)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   V1   V2   V3   V4   V5 
##   NA 7554   NA   NA   NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;O bien, algo más sencillo sería utilizar la función &lt;code&gt;colSums()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;colSums(df1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   V1   V2   V3   V4   V5 
## 2546 2602 2699 1993 2482&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;colSums(df2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   V1   V2   V3   V4   V5 
## 5148 4692   NA 5024 5177&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;colSums(df3)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   V1   V2   V3   V4   V5 
##   NA 7554   NA   NA   NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Sin embargo, podríamos tener una gran cantidad de bases datos, con lo cual los procedimientos anteriores no son viables, pues escribir tantas líneas de código es bastante aburrido…&lt;/p&gt;
&lt;p&gt;Es ahí donde entran en juego las listas. Las tres bases de datos que generamos podemos almacenarlas en una sola lista de la siguiente manera.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lista &amp;lt;- list(df1, df2, df3)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Al tener una lista, cada base de datos se convierte en un elemento de esa lista. Por ejemplo, el elemento 1 de esa lista es el conjunto &lt;em&gt;df1&lt;/em&gt;, mientras que los conjuntos &lt;em&gt;df2&lt;/em&gt; y &lt;em&gt;df3&lt;/em&gt; son los elementos 2 y tres respectivamente. Una forma de llamar a los elementos dentro de una lista es mediante &lt;code&gt;[[]]&lt;/code&gt;, de la siguiente manera llamamos al conjunto de datos &lt;em&gt;df2&lt;/em&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lista[[2]]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      V1 V2  V3  V4  V5
## 1    35 90  35  84  79
## 2    51 36   4 100   5
## 3    76 47  65  90  36
## 4    17 22  97  72   1
## 5    95 16   8  86  65
## 6    73 31  47  52  87
## 7    37 23  64  85  13
## 8    81 62  33  82  27
## 9    59 63  79  40  45
## 10   38 25  34   9  24
## 11   92 82  53  75  80
## 12   94 51  50  35  87
## 13   44 54  10  49  71
## 14   96 23  54  62  99
## 15   73 87   8  64  16
## 16   58 94  67  41 100
## 17   92 93  78  34  59
## 18   30 64  53  49  80
## 19   14 21  94  59  86
## 20   14  9  51  42  19
## 21   55 99  12  70  54
## 22   30 34  93  76  68
## 23   19 40  85  29  51
## 24   46 83  98  41  88
## 25   48 34 100  49  37
## 26   29 34  72  11  62
## 27   39 78  68  41  20
## 28   68 62  51  68  76
## 29   92 69  37  15  95
## 30   15 25  63  72  24
## 31   72 90   4  63  35
## 32    7 34  91  95   5
## 33   62 43   1  66  57
## 34   32 69  29  87  30
## 35   96 67  21  32  13
## 36   13 71  26  96  91
## 37   58 72  30  66   5
## 38   80 45  84  45  86
## 39   84 89  83  86   2
## 40   44 78  13   6  23
## 41   24 70  63  93   1
## 42   22 65  32  85  40
## 43   32 54  79  34  88
## 44   10 12  37  31  21
## 45   48 28   9  61  75
## 46   19 95  22  71  41
## 47   60 48   4  26  30
## 48   79 34  59  80  65
## 49   25 77  61   5  95
## 50   69  7  71  75  60
## 51   33 53 100  43  19
## 52   16 82   9  98  52
## 53   53 60  35   3  77
## 54    9 31  33  61  72
## 55   42 17  64  40  80
## 56   71 87  95  31  72
## 57   79 20  11   6  67
## 58   67 55  57  55  31
## 59   82 82   5  87  93
## 60   84 34  20  22   9
## 61   38 22  92  45  24
## 62   48 75  60   5  74
## 63   44 78  78  29  66
## 64   10 70  14  37  16
## 65   12 12  93  66  19
## 66   88 29  63  94  30
## 67   77 44  34  59  96
## 68    5 46  81  11  72
## 69   79 40  73  26  99
## 70   96 24  46  94   7
## 71   46 64  12   2  30
## 72    3 38  50  89  85
## 73   86 17  14  21  37
## 74   57 37  NA  15  36
## 75   23 12  48  20  46
## 76   41  7  82  69  46
## 77   59  5   4  93  98
## 78   47 52  23  59  94
## 79   19 47  58  12  47
## 80   44 34  15  15  47
## 81   15 38  57  84  67
## 82   98  8  83  10  64
## 83   50 38  48  95  40
## 84   17 18  24   1  59
## 85   73 12   2  30  48
## 86   41 79  38  48  68
## 87   12 84  77  25  79
## 88   66 52   5  85  41
## 89   80 39  60  29  29
## 90  100 43  15  16   3
## 91    9 37  75  52  94
## 92   94 22  19  48  52
## 93   53  9 100  83  52
## 94   37 39  78  31  65
## 95   96 26  66  87  22
## 96   64 25  29   7  55
## 97   62 50  91  21  45
## 98   18 44  94  15  18
## 99   61 11  48  48  50
## 100  98 45  27  17  68&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ahora, si quisiéramos aplicar la función &lt;code&gt;colSums()&lt;/code&gt; a cada conjunto de datos, podemos utilizar la función &lt;code&gt;lapply()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lapply(lista, colSums)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
##   V1   V2   V3   V4   V5 
## 2546 2602 2699 1993 2482 
## 
## [[2]]
##   V1   V2   V3   V4   V5 
## 5148 4692   NA 5024 5177 
## 
## [[3]]
##   V1   V2   V3   V4   V5 
##   NA 7554   NA   NA   NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;El resultado es una lista con la suma de las columnas de cada base de datos. Si quisiéramos realizar las sumas pero sin contar los valores faltantes, solo hay que incorporar el argumento respectivo de la función &lt;code&gt;colSums()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lapply(lista, colSums, na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
##   V1   V2   V3   V4   V5 
## 2546 2602 2699 1993 2482 
## 
## [[2]]
##   V1   V2   V3   V4   V5 
## 5148 4692 4887 5024 5177 
## 
## [[3]]
##   V1   V2   V3   V4   V5 
## 7780 7554 7470 7826 7033&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Como puede notarse, la función &lt;code&gt;lapply()&lt;/code&gt; trabaja básicamente con tres argumentos: una lista (en este caso el objeto lista), una función que deseamos aplicarle a cada elemento de esa lista (en este caso &lt;code&gt;colSums()&lt;/code&gt;), y de ser necesario, los argumentos que solicitados por la función in dicada (en este caso &lt;code&gt;na.rm=TRUE&lt;/code&gt; de la función &lt;code&gt;colSums()&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;El resultado anterior devuelve los cálculos en un objeto de clase &lt;code&gt;list&lt;/code&gt;, sin embargo, en muchas ocasiones es deseable obtener un formato algo más ordenado. la función &lt;code&gt;sapply()&lt;/code&gt; trabaja de forma idéntica a &lt;code&gt;lapply()&lt;/code&gt;, con la salvedad de que &lt;strong&gt;si el resultado de cada elemento de la lista posee la misma longitud&lt;/strong&gt;, la función &lt;code&gt;sapply()&lt;/code&gt; agrupa el resultado. Al utilizar la sunción &lt;code&gt;lapply()&lt;/code&gt; obtenemos una lista de tres elementos, donde cada elemento es un vector de longitud cinco, es decir, todos tienen la misma longitud, por lo que la función &lt;code&gt;sapply()&lt;/code&gt; devolvería lo siguiente:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sapply(lista, colSums)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    [,1] [,2] [,3]
## V1 2546 5148   NA
## V2 2602 4692 7554
## V3 2699   NA   NA
## V4 1993 5024   NA
## V5 2482 5177   NA&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sapply(lista, colSums, na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    [,1] [,2] [,3]
## V1 2546 5148 7780
## V2 2602 4692 7554
## V3 2699 4887 7470
## V4 1993 5024 7826
## V5 2482 5177 7033&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Aunque la función &lt;code&gt;sapply()&lt;/code&gt; parezca más útil que &lt;code&gt;lapply()&lt;/code&gt;, tiene un pequeño inconveniente, y es que siempre va a funcionar… ¿Cómo puede esto ser un inconveniente? Incorporemos un nuevo conjunto de datos, pero esta vez con seis columnas en lugar de cinco como los anteriores.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df4 &amp;lt;- datos(150, 6)
lista2 &amp;lt;- list(df1, df2, df3, df4)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Si utilizamos nuevamente la función &lt;code&gt;lapply()&lt;/code&gt;, obtendríamos de nuevo las sumas por columnas en forma de una lista:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lapply(lista2, colSums, na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
##   V1   V2   V3   V4   V5 
## 2546 2602 2699 1993 2482 
## 
## [[2]]
##   V1   V2   V3   V4   V5 
## 5148 4692 4887 5024 5177 
## 
## [[3]]
##   V1   V2   V3   V4   V5 
## 7780 7554 7470 7826 7033 
## 
## [[4]]
##   V1   V2   V3   V4   V5   V6 
## 8205 6712 6794 8049 7562 7335&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Mientras que si aplicamos la función &lt;code&gt;sapply()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sapply(lista2, colSums, na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
##   V1   V2   V3   V4   V5 
## 2546 2602 2699 1993 2482 
## 
## [[2]]
##   V1   V2   V3   V4   V5 
## 5148 4692 4887 5024 5177 
## 
## [[3]]
##   V1   V2   V3   V4   V5 
## 7780 7554 7470 7826 7033 
## 
## [[4]]
##   V1   V2   V3   V4   V5   V6 
## 8205 6712 6794 8049 7562 7335&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ahora obtenemos una lista, es decir, el mismo resultado que con &lt;code&gt;sapply()&lt;/code&gt;. Esto sucede porque ahora no todos los elementos tienen la misma longitud, antes se tenían tres vectores de longitud cinco, mientras que ahora también se tiene un vector de longitud seis. Esto parece ser algo sin importancia, pues igual se está obteniendo un resultado, sin embargo dependiendo del contexto ese resultado no siempre será válido.&lt;/p&gt;
&lt;p&gt;Supongamos que basados en el análisis que estamos realizando, sabemos que la suma de las columnas solamente puede devolver un vector de longitud cinco, y que si el resultado es otra cosa puede deberse a un error en alguna de las bases de datos, como columnas adicionales. La función &lt;code&gt;vapply()&lt;/code&gt; nos permite, al igual que &lt;code&gt;sapply()&lt;/code&gt;, aplicar una función a los elementos de una lista, pero especificando que el resultado esperado, en este caso, es un vector numérico de longitud cinco. Hagamos primero una comparación entre &lt;code&gt;sapply()&lt;/code&gt; y &lt;code&gt;vapply()&lt;/code&gt; con el objeto &lt;code&gt;lista&lt;/code&gt;, que tiene tres bases de datos con cinco columnas:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sapply(lista, colSums, na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    [,1] [,2] [,3]
## V1 2546 5148 7780
## V2 2602 4692 7554
## V3 2699 4887 7470
## V4 1993 5024 7826
## V5 2482 5177 7033&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;vapply(lista, colSums, numeric(5), na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    [,1] [,2] [,3]
## V1 2546 5148 7780
## V2 2602 4692 7554
## V3 2699 4887 7470
## V4 1993 5024 7826
## V5 2482 5177 7033&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Los resultados son idénticos. Pero ahora repitamos el ejemplo anterior pero para el objeto &lt;code&gt;lista2&lt;/code&gt;, que contiene un conjunto de datos con seis columnas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sapply(lista2, colSums, na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
##   V1   V2   V3   V4   V5 
## 2546 2602 2699 1993 2482 
## 
## [[2]]
##   V1   V2   V3   V4   V5 
## 5148 4692 4887 5024 5177 
## 
## [[3]]
##   V1   V2   V3   V4   V5 
## 7780 7554 7470 7826 7033 
## 
## [[4]]
##   V1   V2   V3   V4   V5   V6 
## 8205 6712 6794 8049 7562 7335&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;La función &lt;code&gt;sapply()&lt;/code&gt; realiza el cálculo, pero bajo el supuesto de que el resultado esperado son vectores de longitud cinco, este resultado es incorrecto. La función &lt;code&gt;vapply()&lt;/code&gt; nos ayuda a controlar esto:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;vapply(lista2, colSums, numeric(5), na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error in vapply(lista2, colSums, numeric(5), na.rm = TRUE): Los valores deben ser de longitud 5, 
## pero el resultado FUN(X [[4]]) es la longitud 6&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Al intentar ejecutar el código obtenemos un error, pues evaluar la función en el elemento número cuatro de la lista hace que se obtenga un vector de longitud seis, y no de cinco como esperábamos. Utilizar &lt;code&gt;vapply()&lt;/code&gt; es, generalmente, más recomendable que &lt;code&gt;sapply()&lt;/code&gt; pues permite tener un mayor control sobre los resultados esperados.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Familia de funciones apply - Parte 2</title>
      <link>/es/post/2019-07-31-tapply/</link>
      <pubDate>Wed, 31 Jul 2019 18:55:57 -0600</pubDate>
      
      <guid>/es/post/2019-07-31-tapply/</guid>
      <description>


&lt;p&gt;En esta segunda parte de la serie de post sobre la familia de funciones apply le toca el turno la función &lt;code&gt;tapply()&lt;/code&gt;. A diferencia de la función &lt;code&gt;apply()&lt;/code&gt; tratada en el primer post, la función &lt;code&gt;tapply()&lt;/code&gt; se usa frecuentemente para aplicar una función a subconjuntos de un vector. Normalmente, al trabajar con bases de datos, se cuenta con variables de distinta naturaleza, algunas pueden ser numéricas, otras categóricas, la idea de &lt;code&gt;tapply()&lt;/code&gt; es obtener resúmenes de un vector pero siendo agrupado en relación a otros vectores (variables).&lt;/p&gt;
&lt;p&gt;En esta ocasión utilizaremos e nuevo la base de datos de starwars vista en el post sobre el paquete &lt;code&gt;inspectdf&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Si quisiéramos saber la altura promedio de los personajes, basta con ejecutar el siguiente comando.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(starwars$height, na.rm = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 174.358&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Sin embargo, es más valioso obtener la altura promedio de acuerdo con otra variable de interés que nos permita hacer alguna comparación, como por ejemplo el género. Para esto podemos utilizar la función &lt;code&gt;tapply()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tapply(X=starwars$height,     #Variable de interés
       INDEX=starwars$gender, #Variable de agrupamiento
       FUN=mean)              #Función a aplicar&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        female hermaphrodite          male          none 
##            NA           175            NA            NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Los &lt;em&gt;NA&lt;/em&gt; que aparecen se deben a que existen valores faltantes dentro de la base de datos, por lo cual la función &lt;code&gt;mean()&lt;/code&gt; no calcula correctamente el promedio a menos que se realice una imputación de estos valores faltantes o bien se indique que la función &lt;code&gt;mean()&lt;/code&gt; debe omitir los valores faltantes usando el argumento &lt;code&gt;na.rm=TRUE&lt;/code&gt;. En la mayoría de las funciones de la familia &lt;code&gt;apply&lt;/code&gt;, los argumentos que pertenecen a al función que se está aplicando (en este caso &lt;code&gt;mean()&lt;/code&gt;) deben ir después del argumento &lt;code&gt;FUN&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tapply(X=starwars$height,     #Variable de interés
       INDEX=starwars$gender, #Variable de agrupamiento
       FUN=mean,              #Función a aplicar
       na.rm=TRUE)            #Se omiten los NA&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        female hermaphrodite          male          none 
##      165.4706      175.0000      179.2373      200.0000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;La función &lt;code&gt;tapply()&lt;/code&gt; no está limitada a una única variable de agrupamiento. El mismo concepto de “dimensiones” que aplicamos en la función &lt;code&gt;apply()&lt;/code&gt; puede ser aplicado a &lt;code&gt;tapply()&lt;/code&gt;, pero en esta ocasión las variables de agrupamiento deben especificarse dentro de una lista. A modo de ejemplo, supongamos que nos interesa saber la altura promedio según el género y el color de ojos.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tapply(X=starwars$height,
       INDEX=list(starwars$eye_color, starwars$gender), 
       FUN=mean, 
       na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##               female hermaphrodite     male none
## black          195.5            NA 182.0000  NaN
## blue           167.0            NA 189.2308   NA
## blue-gray         NA            NA 182.0000   NA
## brown          160.0            NA 168.5000   NA
## dark              NA            NA      NaN   NA
## gold              NA            NA 191.0000   NA
## green, yellow     NA            NA 216.0000   NA
## hazel          178.0            NA 170.0000   NA
## orange            NA           175 181.2857   NA
## pink              NA            NA 180.0000   NA
## red               NA            NA 190.5000  200
## red, blue       96.0            NA       NA   NA
## unknown          NaN            NA 136.0000   NA
## white          178.0            NA       NA   NA
## yellow         168.0            NA 180.1111   NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Si se desea pueden agregarse más variables de agrupamiento, pero todas deben ser dentro de la lista. Por ejemplo, podría ser de interés agrupar también por el color de piel de los personajes, aunque en este caso el resultado mostraría muchos valores faltantes pues no todas las combinaciones existen. Esto es una demostración de que cada vez que se agrupen variables, estos agrupamientos deben tener sentido, pues de lo contrario solo se añadiría ruido al análisis.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tapply(X=starwars$height,
       INDEX=list(starwars$eye_color, starwars$gender, starwars$skin_color), 
       FUN=mean, 
       na.rm=TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## , , blue
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA  196   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel            178            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , blue, grey
## 
##               female hermaphrodite  male none
## black             NA            NA    NA   NA
## blue              NA            NA    NA   NA
## blue-gray         NA            NA    NA   NA
## brown             NA            NA    NA   NA
## dark              NA            NA    NA   NA
## gold              NA            NA    NA   NA
## green, yellow     NA            NA    NA   NA
## hazel             NA            NA    NA   NA
## orange            NA            NA    NA   NA
## pink              NA            NA    NA   NA
## red               NA            NA    NA   NA
## red, blue         NA            NA    NA   NA
## unknown           NA            NA    NA   NA
## white             NA            NA    NA   NA
## yellow            NA            NA 115.5   NA
## 
## , , brown
## 
##               female hermaphrodite  male none
## black             NA            NA    NA   NA
## blue              NA            NA 234.0   NA
## blue-gray         NA            NA    NA   NA
## brown             NA            NA 129.5   NA
## dark              NA            NA    NA   NA
## gold              NA            NA    NA   NA
## green, yellow     NA            NA    NA   NA
## hazel             NA            NA    NA   NA
## orange            NA            NA    NA   NA
## pink              NA            NA    NA   NA
## red               NA            NA    NA   NA
## red, blue         NA            NA    NA   NA
## unknown           NA            NA    NA   NA
## white             NA            NA    NA   NA
## yellow            NA            NA 198.0   NA
## 
## , , brown mottle
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA  180   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , brown, white
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA  216   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , dark
## 
##               female hermaphrodite   male none
## black             NA            NA     NA   NA
## blue             184            NA     NA   NA
## blue-gray         NA            NA     NA   NA
## brown             NA            NA 183.25   NA
## dark              NA            NA    NaN   NA
## gold              NA            NA     NA   NA
## green, yellow     NA            NA     NA   NA
## hazel             NA            NA     NA   NA
## orange            NA            NA     NA   NA
## pink              NA            NA     NA   NA
## red               NA            NA     NA   NA
## red, blue         NA            NA     NA   NA
## unknown           NA            NA     NA   NA
## white             NA            NA     NA   NA
## yellow            NA            NA     NA   NA
## 
## , , fair
## 
##               female hermaphrodite     male none
## black             NA            NA       NA   NA
## blue           158.5            NA 181.1250   NA
## blue-gray         NA            NA 182.0000   NA
## brown          163.0            NA 185.3333   NA
## dark              NA            NA       NA   NA
## gold              NA            NA       NA   NA
## green, yellow     NA            NA       NA   NA
## hazel             NA            NA 170.0000   NA
## orange            NA            NA       NA   NA
## pink              NA            NA       NA   NA
## red               NA            NA       NA   NA
## red, blue         NA            NA       NA   NA
## unknown           NA            NA       NA   NA
## white             NA            NA       NA   NA
## yellow            NA            NA       NA   NA
## 
## , , fair, green, yellow
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow           168            NA   NA   NA
## 
## , , gold
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , green
## 
##               female hermaphrodite  male none
## black             NA            NA 184.5   NA
## blue              NA            NA    NA   NA
## blue-gray         NA            NA    NA   NA
## brown             NA            NA  66.0   NA
## dark              NA            NA    NA   NA
## gold              NA            NA    NA   NA
## green, yellow     NA            NA    NA   NA
## hazel             NA            NA    NA   NA
## orange            NA            NA 206.0   NA
## pink              NA            NA    NA   NA
## red               NA            NA 190.0   NA
## red, blue         NA            NA    NA   NA
## unknown           NA            NA    NA   NA
## white             NA            NA    NA   NA
## yellow            NA            NA 183.0   NA
## 
## , , green-tan, brown
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA           175   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , green, grey
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA  193   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , grey
## 
##               female hermaphrodite     male none
## black            213            NA 198.3333   NA
## blue              NA            NA       NA   NA
## blue-gray         NA            NA       NA   NA
## brown             NA            NA       NA   NA
## dark              NA            NA       NA   NA
## gold              NA            NA 191.0000   NA
## green, yellow     NA            NA       NA   NA
## hazel             NA            NA       NA   NA
## orange            NA            NA 224.0000   NA
## pink              NA            NA       NA   NA
## red               NA            NA       NA   NA
## red, blue         NA            NA       NA   NA
## unknown           NA            NA       NA   NA
## white             NA            NA       NA   NA
## yellow            NA            NA       NA   NA
## 
## , , grey, blue
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   79   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , grey, green, yellow
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA  163   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , grey, red
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA  112   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , light
## 
##               female hermaphrodite  male none
## black             NA            NA    NA   NA
## blue          165.00            NA 176.5   NA
## blue-gray         NA            NA    NA   NA
## brown         159.25            NA 185.5   NA
## dark              NA            NA    NA   NA
## gold              NA            NA    NA   NA
## green, yellow     NA            NA    NA   NA
## hazel            NaN            NA    NA   NA
## orange            NA            NA    NA   NA
## pink              NA            NA    NA   NA
## red               NA            NA    NA   NA
## red, blue         NA            NA    NA   NA
## unknown           NA            NA    NA   NA
## white             NA            NA    NA   NA
## yellow            NA            NA    NA   NA
## 
## , , metal
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA  200
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , mottled green
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA  191   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , none
## 
##               female hermaphrodite male none
## black             NA            NA   NA  NaN
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , orange
## 
##               female hermaphrodite male none
## black             NA            NA  188   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA  196   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , pale
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA  188   NA
## pink              NA            NA  180   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white            178            NA   NA   NA
## yellow            NA            NA  184   NA
## 
## , , red
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA  175   NA
## 
## , , red, blue, white
## 
##               female hermaphrodite male none
## black            178            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , silver, red
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         96            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , tan
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA  187   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , unknown
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA  228   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown          NaN            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , white
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA  233   NA
## 
## , , white, blue
## 
##               female hermaphrodite male none
## black             NA            NA  122   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , white, red
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue              NA            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA
## 
## , , yellow
## 
##               female hermaphrodite male none
## black             NA            NA   NA   NA
## blue             168            NA   NA   NA
## blue-gray         NA            NA   NA   NA
## brown             NA            NA   NA   NA
## dark              NA            NA   NA   NA
## gold              NA            NA   NA   NA
## green, yellow     NA            NA   NA   NA
## hazel             NA            NA   NA   NA
## orange            NA            NA   NA   NA
## pink              NA            NA   NA   NA
## red               NA            NA   NA   NA
## red, blue         NA            NA   NA   NA
## unknown           NA            NA   NA   NA
## white             NA            NA   NA   NA
## yellow            NA            NA   NA   NA&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Familia de funciones apply - Parte 1</title>
      <link>/es/post/2019-06-23-apply/</link>
      <pubDate>Sun, 21 Jul 2019 17:42:09 -0600</pubDate>
      
      <guid>/es/post/2019-06-23-apply/</guid>
      <description>


&lt;p&gt;La familia de funciones apply pertenecen al paquete base de R, son de especial utilidad al combinar su uso con funciones para manipular porciones de matrices, arreglos, listas y marcos de datos de una manera repetitiva. Estas funciones permiten cruzar los datos de múltiples maneras para así evadir el uso de ciclos que usualmente son computacionalmente más pesados.&lt;/p&gt;
&lt;p&gt;La primera función de la que hablaremos en esta serie es la función &lt;code&gt;apply()&lt;/code&gt;, la cual en su forma de utilización más sencilla se utiliza para evaluar sobre los márgenes (1=filas ó 2=columnas) de un arreglo o una matriz para aplicar una función a las mismas.&lt;/p&gt;
&lt;p&gt;Como primer ejemplo se parte de una matriz con tres filas y tres columnas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mat &amp;lt;- matrix(c(2, 4, 6, 7, 8, 9, 1, 12, 21), nrow = 3, ncol = 3)
mat&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2] [,3]
## [1,]    2    7    1
## [2,]    4    8   12
## [3,]    6    9   21&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Si se desea, por ejemplo, obtener la suma de cada columna puede usarse la función &lt;code&gt;apply()&lt;/code&gt; de la siguiente manera.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;apply(mat, 2, sum)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 12 24 34&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;O bien, puede calcularse si se desea el promedio de cada una de las filas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;apply(mat, 1, mean)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  3.333333  8.000000 12.000000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Existen además algunas funciones ya programadas en el paquete &lt;code&gt;base&lt;/code&gt; de R que replican rápidamente los resultados anteriores. Por ejemplo está la función &lt;code&gt;colSums()&lt;/code&gt; para calcular la cuma de cada columna, y &lt;code&gt;rowMeans()&lt;/code&gt; para obtener la media aritmética de cada fila.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;colSums(mat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 12 24 34&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rowMeans(mat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  3.333333  8.000000 12.000000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Los dos casos mostrados anteriormente ejemplifican un uso básico de la función &lt;code&gt;apply()&lt;/code&gt;, sin embargo, esta función es mucho más potente y es capaz de trabajar de manera multidimensional. Consideremos, por ejemplo, un objeto en dos dimensiones (filas y columnas) similar al creado con anterioridad, es decir, una matriz.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mat2 &amp;lt;- matrix(1:9, nrow = 3, ncol = 3)
mat2&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;El objeto &lt;code&gt;mat2&lt;/code&gt; representa un caso particular de lo que en R se conoce como arreglos, los cuales pueden ser creados mediante la función &lt;code&gt;array()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;array(data=1:9, dim = c(3,3))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;La función &lt;code&gt;array()&lt;/code&gt; también permite agregar etiquetas a las filas y las columnas mediante su argumento &lt;code&gt;dimnames&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nombres.columnas &amp;lt;- c(&amp;quot;COL1&amp;quot;,&amp;quot;COL2&amp;quot;,&amp;quot;COL3&amp;quot;)
nombres.filas &amp;lt;- c(&amp;quot;FILA1&amp;quot;,&amp;quot;FILA2&amp;quot;,&amp;quot;FILA3&amp;quot;)
arreglo &amp;lt;- array(data=1:9, dim = c(3,3), 
                 dimnames = list(nombres.columnas, nombres.filas))
arreglo&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      FILA1 FILA2 FILA3
## COL1     1     4     7
## COL2     2     5     8
## COL3     3     6     9&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Pueden agregarse varias dimensiones a los arreglos. Para esto, supongamos que se desean tener las siguientes dimensiones:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DIM1: Números del 1 al 9.&lt;/li&gt;
&lt;li&gt;DIM2: Números del 1 al 9 multiplicados por 10.&lt;/li&gt;
&lt;li&gt;DIM3: Números del 1 al 9 multiplicados por 100.&lt;/li&gt;
&lt;li&gt;DIM4: Números del 1 al 9 multiplicados por 1000.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Una forma de generar el arreglo anterior es mediante el siguiente código:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nombres.dimensiones &amp;lt;- c(&amp;quot;DIM1&amp;quot;,&amp;quot;DIM2&amp;quot;,&amp;quot;DIM3&amp;quot;,&amp;quot;DIM4&amp;quot;)
arreglo &amp;lt;- array(data = c(seq(from=1, to=9, by=1),           #1 al 9
                          seq(from=10, to=90, by=10),        #10 al 90
                          seq(from=100, to=900, by=100),     #100 al 900
                          seq(from=1000, to=9000, by=1000)), #1000 al 9000
                 dim = c(3, 3, 4),                           #3 filas, 3 columnas y 4 dimensiones
                 dimnames = list(nombres.filas,
                                 nombres.columnas,
                                 nombres.dimensiones))
arreglo&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## , , DIM1
## 
##       COL1 COL2 COL3
## FILA1    1    4    7
## FILA2    2    5    8
## FILA3    3    6    9
## 
## , , DIM2
## 
##       COL1 COL2 COL3
## FILA1   10   40   70
## FILA2   20   50   80
## FILA3   30   60   90
## 
## , , DIM3
## 
##       COL1 COL2 COL3
## FILA1  100  400  700
## FILA2  200  500  800
## FILA3  300  600  900
## 
## , , DIM4
## 
##       COL1 COL2 COL3
## FILA1 1000 4000 7000
## FILA2 2000 5000 8000
## FILA3 3000 6000 9000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Partiendo del arreglo anterior, supongamos que se desea obtener de cada dimensión el valor máximo por filas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;apply(arreglo, c(3,1), max)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      FILA1 FILA2 FILA3
## DIM1     7     8     9
## DIM2    70    80    90
## DIM3   700   800   900
## DIM4  7000  8000  9000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;O bien, quizás interese obtener de cada dimensión el valor máximo de cada columna.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;apply(arreglo, c(3,2), max)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      COL1 COL2 COL3
## DIM1    3    6    9
## DIM2   30   60   90
## DIM3  300  600  900
## DIM4 3000 6000 9000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;El siguiente resultado muestra el mínimo de cada columna en cada dimensión.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;apply(arreglo, c(2,3), min)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      DIM1 DIM2 DIM3 DIM4
## COL1    1   10  100 1000
## COL2    4   40  400 4000
## COL3    7   70  700 7000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Los ejemplos anteriores pueden ser aplicados a un número mayor de dimensiones, para ello basta con tener un arreglo adecuado y operar sobre los márgenes correspondientes con la función &lt;code&gt;apply()&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Programación estadística en R</title>
      <link>/es/talk/cursor201906/</link>
      <pubDate>Tue, 16 Jul 2019 17:00:00 +0000</pubDate>
      
      <guid>/es/talk/cursor201906/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Uso de R como herramienta de análisis estadístico</title>
      <link>/es/talk/conversatorior/</link>
      <pubDate>Thu, 27 Jun 2019 10:00:00 +0000</pubDate>
      
      <guid>/es/talk/conversatorior/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Análisis exploratorio de datos categóricos</title>
      <link>/es/post/2019-06-23-exploraci%C3%B3n-de-datos-categ%C3%B3ricos-con-el-paquete-inspectdf/</link>
      <pubDate>Sun, 23 Jun 2019 13:42:09 -0600</pubDate>
      
      <guid>/es/post/2019-06-23-exploraci%C3%B3n-de-datos-categ%C3%B3ricos-con-el-paquete-inspectdf/</guid>
      <description>


&lt;p&gt;Es muy común en el día a día encontrarse con bases de datos que cuentan con diferentes tipos de variables, ya sean numéricas, temporales, de texto o categóricas. Estas últimas son el tema de discusión de este post. El paquete &lt;a href=&#34;https://github.com/alastairrushworth/inspectdf&#34;&gt;inspectdf&lt;/a&gt; ofrece un conjunto de funciones que resultan particularmente útiles cuando lo que se busca es explorar el comportamiento de este tipo de variables.&lt;/p&gt;
&lt;p&gt;El primer paso es tener debidamente instalado el paquete &lt;code&gt;inspectdf&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(devtools)
install_github(&amp;quot;alastairrushworth/inspectdf&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Una vez instalado es necesario cargarlo, así como cargar también el paquete &lt;code&gt;dplyr&lt;/code&gt;, especialmente para poder usar el operador &lt;code&gt;%&amp;gt;%&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(inspectdf)
library(dplyr)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Para este ejemplo se utilizará la base de datos &lt;code&gt;starwars&lt;/code&gt;, la cual viene incluida en el paquete &lt;code&gt;dplyr&lt;/code&gt; y que cuenta con datos de varios personajes de este universo cinematográfico.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;starwars %&amp;gt;% 
    head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 13
##   name  height  mass hair_color skin_color eye_color birth_year gender
##   &amp;lt;chr&amp;gt;  &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt; 
## 1 Luke~    172    77 blond      fair       blue            19   male  
## 2 C-3PO    167    75 &amp;lt;NA&amp;gt;       gold       yellow         112   &amp;lt;NA&amp;gt;  
## 3 R2-D2     96    32 &amp;lt;NA&amp;gt;       white, bl~ red             33   &amp;lt;NA&amp;gt;  
## 4 Dart~    202   136 none       white      yellow          41.9 male  
## 5 Leia~    150    49 brown      light      brown           19   female
## 6 Owen~    178   120 brown, gr~ light      blue            52   male  
## # ... with 5 more variables: homeworld &amp;lt;chr&amp;gt;, species &amp;lt;chr&amp;gt;, films &amp;lt;list&amp;gt;,
## #   vehicles &amp;lt;list&amp;gt;, starships &amp;lt;list&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;analisis-exploratorio-de-manera-tabular&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Análisis exploratorio de manera tabular&lt;/h3&gt;
&lt;p&gt;EL paquete &lt;code&gt;inspectdf&lt;/code&gt; permite calcular algunos estadísticos descriptivos rápidamente para cualquier tipo de variable mediante la función &lt;code&gt;inspect_types()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;starwars %&amp;gt;% 
    inspect_types()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 4 x 4
##   type        cnt  pcnt col_name 
##   &amp;lt;chr&amp;gt;     &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;list&amp;gt;   
## 1 character     7 53.8  &amp;lt;chr [7]&amp;gt;
## 2 list          3 23.1  &amp;lt;chr [3]&amp;gt;
## 3 numeric       2 15.4  &amp;lt;chr [2]&amp;gt;
## 4 integer       1  7.69 &amp;lt;chr [1]&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;El resultado anterior muestra que hay 7 variables de tipo &lt;code&gt;character&lt;/code&gt;, lo cual representa el 53.84% de la base de datos. Además, hay dos variables de tipo numérico, que representa un 15.38% del total. Lo anterior es útil para un primer vistazo, pero resulta interesante ir un poco más allá y describir más en detalle todas las variables. Para esto puede usarse la función &lt;code&gt;inspect_cat()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;starwars %&amp;gt;% 
    inspect_cat()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 7 x 5
##   col_name     cnt common common_pcnt levels           
##   &amp;lt;chr&amp;gt;      &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;        &amp;lt;dbl&amp;gt; &amp;lt;list&amp;gt;           
## 1 eye_color     15 brown        24.1  &amp;lt;tibble [15 x 3]&amp;gt;
## 2 gender         5 male         71.3  &amp;lt;tibble [5 x 3]&amp;gt; 
## 3 hair_color    13 none         42.5  &amp;lt;tibble [13 x 3]&amp;gt;
## 4 homeworld     49 Naboo        12.6  &amp;lt;tibble [49 x 3]&amp;gt;
## 5 name          87 Ackbar        1.15 &amp;lt;tibble [87 x 3]&amp;gt;
## 6 skin_color    31 fair         19.5  &amp;lt;tibble [31 x 3]&amp;gt;
## 7 species       38 Human        40.2  &amp;lt;tibble [38 x 3]&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;La función &lt;code&gt;inspect_cat()&lt;/code&gt; muestra en la primera columna el nombre de la variable, en la segunda la cantidad de valores únicos que contiene, es decir, la variable &lt;em&gt;eye_color&lt;/em&gt; tiene 15 niveles diferentes, o lo que es lo mismo, hay 15 colores e ojos diferentes en la base de datos. La tercera columna muestra el valor más común que aparece en la variable, por ejemplo, la especie más común que aparece en la base de datos son los humanos. La cuarta columna indica el porcentaje que representa el nivel más común, por ejemplo, los ojos color café representan el 24.13% de todos los colores presentes en los datos. ¿Y qué representa la quinta columna? Pues es una lista con las proporciones de cada nivel de la variable. Para ejemplificar esto último, se asignará al objeto &lt;em&gt;df&lt;/em&gt; el resultado anterior.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df &amp;lt;- starwars %&amp;gt;% 
    inspect_cat()
df$levels$eye_color&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 15 x 3
##    value           prop   cnt
##    &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;
##  1 brown         0.241     21
##  2 blue          0.218     19
##  3 yellow        0.126     11
##  4 black         0.115     10
##  5 orange        0.0920     8
##  6 red           0.0575     5
##  7 hazel         0.0345     3
##  8 unknown       0.0345     3
##  9 blue-gray     0.0115     1
## 10 dark          0.0115     1
## 11 gold          0.0115     1
## 12 green, yellow 0.0115     1
## 13 pink          0.0115     1
## 14 red, blue     0.0115     1
## 15 white         0.0115     1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;La tabla anterior muestra la proporción de cada color de ojos. Esto mismo se aplica a cualquiera de las otras variables.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;analisis-exploratorio-de-manera-grafica&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Análisis exploratorio de manera gráfica&lt;/h3&gt;
&lt;p&gt;En algunas ocasiones los valores numéricos no sean tan claros ni fáciles de interpretar, ya sea por a cantidad de datos o bien por cuestiones de comodidad. El paquete &lt;code&gt;inspectdf&lt;/code&gt; también permite hacer análisis exploratorio de manera gráfica&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df %&amp;gt;% 
    show_plot()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/es/post/2019-06-23-exploración-de-datos-categóricos-con-el-paquete-inspectdf_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Este resultado contiene la misma información que el objeto &lt;code&gt;df&lt;/code&gt;, pero ahora es más fácil, rápido e incluso agradable para interpretar. Sin embargo, este resultado puede mejorar, pues por ejemplo la variable &lt;em&gt;name&lt;/em&gt; no sirve de mucho en el gráfico porque todos los nombres son diferentes. Esto se puede solucionar modificando el argumento &lt;code&gt;high_cardinality&lt;/code&gt;, lo cual hace que únicamente se grafiquen todas aquellas categorías que aparezcan un determinado número de veces, digamos cuatro.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df %&amp;gt;% 
    show_plot(high_cardinality = 4)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/es/post/2019-06-23-exploración-de-datos-categóricos-con-el-paquete-inspectdf_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Finalmente, si los colores no resultan del todo agradables, pueden manipularse a voluntad mediante las 5 paletas de colores que ofrece el paquete y que e el futuro serán más, basta modificar el argumento &lt;code&gt;col_palette&lt;/code&gt; con los números entre uno y cinco para lograr esto.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df %&amp;gt;% 
    show_plot(high_cardinality = 4, col_palette = 4)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/es/post/2019-06-23-exploración-de-datos-categóricos-con-el-paquete-inspectdf_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df %&amp;gt;% 
    show_plot(high_cardinality = 4, col_palette = 5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/es/post/2019-06-23-exploración-de-datos-categóricos-con-el-paquete-inspectdf_files/figure-html/unnamed-chunk-9-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>About</title>
      <link>/es/about/</link>
      <pubDate>Thu, 05 May 2016 21:48:51 -0700</pubDate>
      
      <guid>/es/about/</guid>
      <description>&lt;p&gt;This is a &amp;ldquo;hello world&amp;rdquo; example website for the &lt;a href=&#34;https://github.com/rstudio/blogdown&#34; target=&#34;_blank&#34;&gt;&lt;strong&gt;blogdown&lt;/strong&gt;&lt;/a&gt; package. The theme was forked from &lt;a href=&#34;https://github.com/jrutheiser/hugo-lithium-theme&#34; target=&#34;_blank&#34;&gt;@jrutheiser/hugo-lithium-theme&lt;/a&gt; and modified by &lt;a href=&#34;https://github.com/yihui/hugo-lithium&#34; target=&#34;_blank&#34;&gt;Yihui Xie&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
